{"ast":null,"code":"import { createAsyncThunk, createSlice, isPending, isRejected } from \"@reduxjs/toolkit\";\nimport { createStudent, deleteStudent, getByIdStudent, updateStudent } from \"../../../shared/api/student.api\";\nimport { filterSvxs } from \"../../../shared/api/thongke.api\";\nconst initialState = {\n  loading: false,\n  errorMessage: null,\n  entities: null,\n  entity: {},\n  updating: false,\n  updateSuccess: false,\n  creating: false,\n  createSuccess: false,\n  pageSearch: 1,\n  totalCount: 0\n};\nexport const searchSvxsEntitiesAsync = createAsyncThunk(\"student/search\", async data => {\n  const res = await filterSvxs(data);\n  return res;\n});\nexport const createStudentAsync = createAsyncThunk(\"student/create\", async data => {\n  const res = await createStudent(data);\n  return res;\n}, {\n  // serializeError: serializeAxiosError,\n});\nexport const updateStudentAsync = createAsyncThunk(\"student/update\", async data => {\n  const res = await updateStudent(data);\n  return res;\n}, {\n  // serializeError: serializeAxiosError,\n});\nexport const getByIdStudentAsync = createAsyncThunk(\"student/get-by-id\", async id => {\n  const res = await getByIdStudent(id);\n  return res;\n}, {\n  // serializeError: serializeAxiosError,\n});\nexport const deleteStudentEntitiesAsync = createAsyncThunk(\"student/delete\", async id => {\n  const res = await deleteStudent(id);\n  return res;\n});\nconst StudentSlice = createSlice({\n  name: \"Student\",\n  initialState,\n  reducers: {\n    reset(state, action) {\n      return initialState;\n    },\n    changePageSearch(state, action) {\n      return {\n        ...state,\n        pageSearch: action.payload\n      };\n    },\n    changeUpdateSuccess(state, action) {\n      return {\n        ...state,\n        updateSuccess: action.payload\n      };\n    },\n    changeCreateSuccess(state, action) {\n      return {\n        ...state,\n        createSuccess: action.payload\n      };\n    }\n  },\n  extraReducers: build => {\n    build.addCase(searchSvxsEntitiesAsync.fulfilled, (state, action) => {\n      return {\n        ...state,\n        loading: false,\n        entities: action.payload.data\n        // totalCount: parseInt(action.payload.headers[TOTAL_HEADER])\n      };\n    }).addCase(getByIdStudentAsync.fulfilled, (state, action) => {\n      return {\n        ...state,\n        loading: false,\n        entity: action.payload.data\n      };\n    }).addMatcher(isPending(searchSvxsEntitiesAsync, createStudentAsync, updateStudentAsync, updateStudentAsync), (state, action) => {\n      return {\n        ...state,\n        loading: true\n      };\n    }).addMatcher(isRejected(searchSvxsEntitiesAsync, createStudentAsync, updateStudentAsync, updateStudentAsync), (state, action) => {\n      return {\n        ...state,\n        loading: false\n      };\n    });\n  }\n});\nexport const {\n  reset,\n  changePageSearch,\n  changeUpdateSuccess,\n  changeCreateSuccess\n} = StudentSlice.actions;\nexport default StudentSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","isPending","isRejected","createStudent","deleteStudent","getByIdStudent","updateStudent","filterSvxs","initialState","loading","errorMessage","entities","entity","updating","updateSuccess","creating","createSuccess","pageSearch","totalCount","searchSvxsEntitiesAsync","data","res","createStudentAsync","updateStudentAsync","getByIdStudentAsync","id","deleteStudentEntitiesAsync","StudentSlice","name","reducers","reset","state","action","changePageSearch","payload","changeUpdateSuccess","changeCreateSuccess","extraReducers","build","addCase","fulfilled","addMatcher","actions","reducer"],"sources":["D:/DEVMASTER/DEV2206LM_SpringBoot/react-springboot-qlsinhvien/ql-sinh-vien/src/features/thongke/redux/thongke.reducer.ts"],"sourcesContent":["import { createAsyncThunk, createSlice, isPending, isRejected } from \"@reduxjs/toolkit\";\r\nimport { createStudent, deleteStudent, filterStudent, getByIdStudent, updateStudent } from \"../../../shared/api/student.api\";\r\nimport { filterSvxs } from \"../../../shared/api/thongke.api\";\r\n\r\nconst initialState: any = {\r\n    loading: false,\r\n    errorMessage: null,\r\n    entities: null,\r\n    entity: {},\r\n    updating: false,\r\n    updateSuccess: false,\r\n    creating: false,\r\n    createSuccess: false,\r\n    pageSearch: 1,\r\n    totalCount: 0,\r\n};\r\n\r\n\r\nexport const searchSvxsEntitiesAsync = createAsyncThunk(\"student/search\", async (data: any) => {\r\n    const res = await filterSvxs(data);\r\n    return res;\r\n});\r\n\r\nexport const createStudentAsync = createAsyncThunk(\r\n    \"student/create\",\r\n    async (data: any) => {\r\n        const res = await createStudent(data);\r\n        return res;\r\n    },\r\n    {\r\n        // serializeError: serializeAxiosError,\r\n    }\r\n);\r\n\r\nexport const updateStudentAsync = createAsyncThunk(\r\n    \"student/update\",\r\n    async (data: any) => {\r\n        const res = await updateStudent(data);\r\n        return res;\r\n    },\r\n    {\r\n        // serializeError: serializeAxiosError,\r\n    }\r\n);\r\n\r\nexport const getByIdStudentAsync = createAsyncThunk(\r\n    \"student/get-by-id\",\r\n    async (id: any) => {\r\n        const res = await getByIdStudent(id);\r\n        return res;\r\n    },\r\n    {\r\n        // serializeError: serializeAxiosError,\r\n    }\r\n);\r\nexport const deleteStudentEntitiesAsync = createAsyncThunk(\"student/delete\", async (id: any) => {\r\n    const res = await deleteStudent(id);\r\n    return res;\r\n});\r\n\r\nconst StudentSlice = createSlice({\r\n    name: \"Student\",\r\n    initialState,\r\n    reducers: {\r\n        reset(state, action) {\r\n            return initialState;\r\n        },\r\n        changePageSearch(state, action) {\r\n            return {\r\n                ...state,\r\n                pageSearch: action.payload,\r\n            };\r\n        },\r\n        changeUpdateSuccess(state, action) {\r\n            return {\r\n                ...state,\r\n                updateSuccess: action.payload,\r\n            };\r\n        },\r\n        changeCreateSuccess(state, action) {\r\n            return {\r\n                ...state,\r\n                createSuccess: action.payload,\r\n            };\r\n        },\r\n    },\r\n    extraReducers: (build) => {\r\n        build\r\n            \r\n            .addCase(searchSvxsEntitiesAsync.fulfilled, (state, action) => {\r\n                return {\r\n                    ...state,\r\n                    loading: false,\r\n                    entities: action.payload.data,\r\n                    // totalCount: parseInt(action.payload.headers[TOTAL_HEADER])\r\n                };\r\n            })\r\n            \r\n            .addCase(getByIdStudentAsync.fulfilled, (state, action) => {\r\n                return {\r\n                    ...state,\r\n                    loading: false,\r\n                    entity: action.payload.data,\r\n                };\r\n            })\r\n            .addMatcher(\r\n                isPending(\r\n                    searchSvxsEntitiesAsync,\r\n                    createStudentAsync,\r\n                    updateStudentAsync,\r\n                    updateStudentAsync\r\n                ),\r\n                (state, action) => {\r\n                    return {\r\n                        ...state,\r\n                        loading: true,\r\n                    };\r\n                }\r\n            )\r\n            .addMatcher(\r\n                isRejected(\r\n                    searchSvxsEntitiesAsync,\r\n                    createStudentAsync,\r\n                    updateStudentAsync,\r\n                    updateStudentAsync\r\n                ),\r\n                (state, action) => {\r\n                    return {\r\n                        ...state,\r\n                        loading: false,\r\n                    };\r\n                }\r\n            );\r\n    },\r\n});\r\n\r\nexport const { reset, changePageSearch, changeUpdateSuccess, changeCreateSuccess } = StudentSlice.actions;\r\n\r\nexport default StudentSlice.reducer;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}