{"ast":null,"code":"/**\r\n * Model for redux actions with pagination\r\n */\n\n/**\r\n * Useful types for working with actions\r\n */\n\n/**\r\n * Check if the async action type is rejected\r\n */\nexport function isRejectedAction(action) {\n  return action.type.endsWith('/rejected');\n}\n\n/**\r\n * Check if the async action type is pending\r\n */\nexport function isPendingAction(action) {\n  return action.type.endsWith('/pending');\n}\n\n/**\r\n * Check if the async action type is completed\r\n */\nexport function isFulfilledAction(action) {\n  return action.type.endsWith('/fulfilled');\n}\n\n/**\r\n * serialize function used for async action errors,\r\n * since the default function from Redux Toolkit strips useful info from axios errors\r\n */\n// export const serializeAxiosError = (value: any): AxiosError | SerializedError => {\n//   if (typeof value === 'object' && value !== null) {\n//     if (value.isAxiosError) {\n//       return value;\n//     } else {\n//       const simpleError: SerializedError = {};\n//       for (const property of commonErrorProperties) {\n//         if (typeof value[property] === 'string') {\n//           simpleError[property] = value[property];\n//         }\n//       }\n\n//       return simpleError;\n//     }\n//   }\n//   return { message: String(value) };\n// };\n\n// /**\n//  * A wrapper on top of createSlice from Redux Toolkit to extract\n//  * common reducers and matchers used by entities\n//  */\n// export const createEntitySlice = <T, Reducers extends SliceCaseReducers<EntityState<T>>>({\n//   name = '',\n//   initialState,\n//   reducers,\n//   extraReducers,\n//   skipRejectionHandling,\n// }: {\n//   name: string;\n//   initialState: EntityState<T>;\n//   reducers?: ValidateSliceCaseReducers<EntityState<T>, Reducers>;\n//   extraReducers?: (builder: ActionReducerMapBuilder<EntityState<T>>) => void;\n//   skipRejectionHandling?: boolean;\n// }) => {\n//   return createSlice({\n//     name,\n//     initialState,\n//     reducers: {\n//       /**\n//        * Reset the entity state to initial state\n//        */\n//       reset() {\n//         return initialState;\n//       },\n//       ...reducers,\n//     },\n//     extraReducers(builder) {\n//       extraReducers(builder);\n//       /*\n//        * Common rejection logic is handled here.\n//        * If you want to add your own rejcetion logic, pass `skipRejectionHandling: true`\n//        * while calling `createEntitySlice`\n//        * */\n//       if (!skipRejectionHandling) {\n//         builder.addMatcher(isRejectedAction, (state, action) => {\n//           state.loading = false;\n//           state.updating = false;\n//           state.updateSuccess = false;\n//           state.errorMessage = action.error.message;\n//         });\n//       }\n//     },\n//   });\n// };","map":{"version":3,"names":["isRejectedAction","action","type","endsWith","isPendingAction","isFulfilledAction"],"sources":["D:/DEVMASTER/DEV2206LM_SpringBoot/react-springboot-qlsinhvien/ql-sinh-vien/src/shared/utils/reducer.utils.ts"],"sourcesContent":["import {\r\n  AnyAction,\r\n  AsyncThunk,\r\n  ActionReducerMapBuilder,\r\n  createSlice,\r\n  SerializedError,\r\n  SliceCaseReducers,\r\n  ValidateSliceCaseReducers,\r\n} from '@reduxjs/toolkit';\r\nimport { AxiosError } from 'axios';\r\n\r\n/**\r\n * Model for redux actions with pagination\r\n */\r\nexport type IQueryParams = { query?: string; page?: number; size?: number; sort?: string };\r\n\r\n/**\r\n * Useful types for working with actions\r\n */\r\ntype GenericAsyncThunk = AsyncThunk<unknown, unknown, any>;\r\nexport type PendingAction = ReturnType<GenericAsyncThunk['pending']>;\r\nexport type RejectedAction = ReturnType<GenericAsyncThunk['rejected']>;\r\nexport type FulfilledAction = ReturnType<GenericAsyncThunk['fulfilled']>;\r\n\r\n/**\r\n * Check if the async action type is rejected\r\n */\r\nexport function isRejectedAction(action: AnyAction) {\r\n  return action.type.endsWith('/rejected');\r\n}\r\n\r\n/**\r\n * Check if the async action type is pending\r\n */\r\nexport function isPendingAction(action: AnyAction) {\r\n  return action.type.endsWith('/pending');\r\n}\r\n\r\n/**\r\n * Check if the async action type is completed\r\n */\r\nexport function isFulfilledAction(action: AnyAction) {\r\n  return action.type.endsWith('/fulfilled');\r\n}\r\n\r\n\r\n/**\r\n * serialize function used for async action errors,\r\n * since the default function from Redux Toolkit strips useful info from axios errors\r\n */\r\n// export const serializeAxiosError = (value: any): AxiosError | SerializedError => {\r\n//   if (typeof value === 'object' && value !== null) {\r\n//     if (value.isAxiosError) {\r\n//       return value;\r\n//     } else {\r\n//       const simpleError: SerializedError = {};\r\n//       for (const property of commonErrorProperties) {\r\n//         if (typeof value[property] === 'string') {\r\n//           simpleError[property] = value[property];\r\n//         }\r\n//       }\r\n\r\n//       return simpleError;\r\n//     }\r\n//   }\r\n//   return { message: String(value) };\r\n// };\r\n\r\nexport interface EntityState<T> {\r\n  loading: boolean;\r\n  errorMessage: string | null;\r\n  entities: ReadonlyArray<T>;\r\n  entity: T;\r\n  links?: any;\r\n  updating: boolean;\r\n  totalItems?: number;\r\n  updateSuccess: boolean;\r\n}\r\n\r\n// /**\r\n//  * A wrapper on top of createSlice from Redux Toolkit to extract\r\n//  * common reducers and matchers used by entities\r\n//  */\r\n// export const createEntitySlice = <T, Reducers extends SliceCaseReducers<EntityState<T>>>({\r\n//   name = '',\r\n//   initialState,\r\n//   reducers,\r\n//   extraReducers,\r\n//   skipRejectionHandling,\r\n// }: {\r\n//   name: string;\r\n//   initialState: EntityState<T>;\r\n//   reducers?: ValidateSliceCaseReducers<EntityState<T>, Reducers>;\r\n//   extraReducers?: (builder: ActionReducerMapBuilder<EntityState<T>>) => void;\r\n//   skipRejectionHandling?: boolean;\r\n// }) => {\r\n//   return createSlice({\r\n//     name,\r\n//     initialState,\r\n//     reducers: {\r\n//       /**\r\n//        * Reset the entity state to initial state\r\n//        */\r\n//       reset() {\r\n//         return initialState;\r\n//       },\r\n//       ...reducers,\r\n//     },\r\n//     extraReducers(builder) {\r\n//       extraReducers(builder);\r\n//       /*\r\n//        * Common rejection logic is handled here.\r\n//        * If you want to add your own rejcetion logic, pass `skipRejectionHandling: true`\r\n//        * while calling `createEntitySlice`\r\n//        * */\r\n//       if (!skipRejectionHandling) {\r\n//         builder.addMatcher(isRejectedAction, (state, action) => {\r\n//           state.loading = false;\r\n//           state.updating = false;\r\n//           state.updateSuccess = false;\r\n//           state.errorMessage = action.error.message;\r\n//         });\r\n//       }\r\n//     },\r\n//   });\r\n// };\r\n"],"mappings":"AAWA;AACA;AACA;;AAGA;AACA;AACA;;AAMA;AACA;AACA;AACA,OAAO,SAASA,gBAAgB,CAACC,MAAiB,EAAE;EAClD,OAAOA,MAAM,CAACC,IAAI,CAACC,QAAQ,CAAC,WAAW,CAAC;AAC1C;;AAEA;AACA;AACA;AACA,OAAO,SAASC,eAAe,CAACH,MAAiB,EAAE;EACjD,OAAOA,MAAM,CAACC,IAAI,CAACC,QAAQ,CAAC,UAAU,CAAC;AACzC;;AAEA;AACA;AACA;AACA,OAAO,SAASE,iBAAiB,CAACJ,MAAiB,EAAE;EACnD,OAAOA,MAAM,CAACC,IAAI,CAACC,QAAQ,CAAC,YAAY,CAAC;AAC3C;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module"}