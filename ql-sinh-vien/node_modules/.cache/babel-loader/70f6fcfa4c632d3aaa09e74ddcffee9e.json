{"ast":null,"code":"export const compareRole = (roles, roleCompares) => {\n  if (roleCompares) {\n    if (roleCompares.length > 0) {\n      for (let i = 0; i < roles.length; i++) {\n        if (roleCompares.includes(roles[i])) {\n          return true;\n        }\n      }\n      return false;\n    }\n    return true;\n  }\n  return true;\n};\nexport const filterRolesSideBar = (sideBarConst, roles) => {\n  if (sideBarConst) {\n    return sideBarConst.filter(item2 => compareRole(roles, item2.roles)).map(item => ({\n      ...item,\n      childrens: filterRolesSideBar(item.childrens, roles)\n    })).filter(item => {\n      if (item.childrens) {\n        if (item.childrens.length === 0) {\n          return false;\n        }\n      }\n      return true;\n    });\n  }\n  return sideBarConst;\n};\nexport const accessRightCurrentUser = currentUser => {\n  return currentUser.group.accessRights.map(item => item.code);\n};\nexport const hasAccessRightCurrentUser = (currentUser, accessRight) => {\n  const accessRights = accessRightCurrentUser(currentUser);\n  return accessRights.includes(accessRight);\n};\nexport const hasAnyAccessRightCurrentUser = (currentUser, accessRights) => {\n  for (let accessRight of accessRights) {\n    if (hasAccessRightCurrentUser(currentUser, accessRight)) {\n      return true;\n    }\n  }\n  return false;\n};","map":{"version":3,"names":["compareRole","roles","roleCompares","length","i","includes","filterRolesSideBar","sideBarConst","filter","item2","map","item","childrens","accessRightCurrentUser","currentUser","group","accessRights","code","hasAccessRightCurrentUser","accessRight","hasAnyAccessRightCurrentUser"],"sources":["D:/DEVMASTER/DEV2206LM_SpringBoot/project-qlsinhvien/ql-sinh-vien/src/shared/utils/auth.util.ts"],"sourcesContent":["export const compareRole = (roles: any[], roleCompares: any[]) => {\r\n    if (roleCompares) {\r\n        if (roleCompares.length > 0) {\r\n            for (let i = 0; i < roles.length; i++) {\r\n                if (roleCompares.includes(roles[i])) {\r\n                    return true\r\n                }\r\n            }\r\n            return false\r\n        }\r\n        return true\r\n    }\r\n\r\n    return true\r\n}\r\n\r\nexport const filterRolesSideBar = (sideBarConst: any[], roles: any[]): any[] => {\r\n    if (sideBarConst) {\r\n        return sideBarConst\r\n            .filter((item2: any) => compareRole(roles, item2.roles))\r\n            .map((item: any) => ({ ...item, childrens: filterRolesSideBar(item.childrens, roles) }))\r\n            .filter((item: any) => {\r\n                if (item.childrens) {\r\n                    if (item.childrens.length === 0) {\r\n                        return false\r\n                    }\r\n                }\r\n                return true;\r\n              })\r\n            \r\n    }\r\n    return sideBarConst;\r\n};\r\n\r\n\r\nexport const accessRightCurrentUser = (currentUser: any) => {\r\n    return currentUser.group.accessRights.map((item: any) => item.code);\r\n}\r\n\r\nexport const hasAccessRightCurrentUser =  (currentUser: any, accessRight: any) => {\r\n    const accessRights: any[] = accessRightCurrentUser(currentUser);\r\n    return accessRights.includes(accessRight)\r\n}\r\n\r\nexport const hasAnyAccessRightCurrentUser =  (currentUser: any, accessRights: any[]) => {\r\n    for (let accessRight of accessRights)  {\r\n        if(hasAccessRightCurrentUser(currentUser, accessRight)) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}"],"mappings":"AAAA,OAAO,MAAMA,WAAW,GAAG,CAACC,KAAY,EAAEC,YAAmB,KAAK;EAC9D,IAAIA,YAAY,EAAE;IACd,IAAIA,YAAY,CAACC,MAAM,GAAG,CAAC,EAAE;MACzB,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGH,KAAK,CAACE,MAAM,EAAEC,CAAC,EAAE,EAAE;QACnC,IAAIF,YAAY,CAACG,QAAQ,CAACJ,KAAK,CAACG,CAAC,CAAC,CAAC,EAAE;UACjC,OAAO,IAAI;QACf;MACJ;MACA,OAAO,KAAK;IAChB;IACA,OAAO,IAAI;EACf;EAEA,OAAO,IAAI;AACf,CAAC;AAED,OAAO,MAAME,kBAAkB,GAAG,CAACC,YAAmB,EAAEN,KAAY,KAAY;EAC5E,IAAIM,YAAY,EAAE;IACd,OAAOA,YAAY,CACdC,MAAM,CAAEC,KAAU,IAAKT,WAAW,CAACC,KAAK,EAAEQ,KAAK,CAACR,KAAK,CAAC,CAAC,CACvDS,GAAG,CAAEC,IAAS,KAAM;MAAE,GAAGA,IAAI;MAAEC,SAAS,EAAEN,kBAAkB,CAACK,IAAI,CAACC,SAAS,EAAEX,KAAK;IAAE,CAAC,CAAC,CAAC,CACvFO,MAAM,CAAEG,IAAS,IAAK;MACnB,IAAIA,IAAI,CAACC,SAAS,EAAE;QAChB,IAAID,IAAI,CAACC,SAAS,CAACT,MAAM,KAAK,CAAC,EAAE;UAC7B,OAAO,KAAK;QAChB;MACJ;MACA,OAAO,IAAI;IACb,CAAC,CAAC;EAEZ;EACA,OAAOI,YAAY;AACvB,CAAC;AAGD,OAAO,MAAMM,sBAAsB,GAAIC,WAAgB,IAAK;EACxD,OAAOA,WAAW,CAACC,KAAK,CAACC,YAAY,CAACN,GAAG,CAAEC,IAAS,IAAKA,IAAI,CAACM,IAAI,CAAC;AACvE,CAAC;AAED,OAAO,MAAMC,yBAAyB,GAAI,CAACJ,WAAgB,EAAEK,WAAgB,KAAK;EAC9E,MAAMH,YAAmB,GAAGH,sBAAsB,CAACC,WAAW,CAAC;EAC/D,OAAOE,YAAY,CAACX,QAAQ,CAACc,WAAW,CAAC;AAC7C,CAAC;AAED,OAAO,MAAMC,4BAA4B,GAAI,CAACN,WAAgB,EAAEE,YAAmB,KAAK;EACpF,KAAK,IAAIG,WAAW,IAAIH,YAAY,EAAG;IACnC,IAAGE,yBAAyB,CAACJ,WAAW,EAAEK,WAAW,CAAC,EAAE;MACpD,OAAO,IAAI;IACf;EACJ;EACA,OAAO,KAAK;AAChB,CAAC"},"metadata":{},"sourceType":"module"}